@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════════════════════════════════════════
   PREMIUM CORPORATE DESIGN SYSTEM
   ═══════════════════════════════════════════════════════════════════════════════

   Design Philosophy:
   - Premium silver-gray surfaces convey sophistication and trust
   - Vibrant purple accents create energy and premium positioning
   - Cool-toned neutrals with subtle blue undertones
   - Enterprise-grade aesthetics for Fortune 500 positioning

   ═══════════════════════════════════════════════════════════════════════════════ */

:root {
	/* ─────────────────────────────────────────────────────────────────────────────
	   MOBILE-FIRST TOKENS
	   ───────────────────────────────────────────────────────────────────────────── */
	--safe-area-top: env(safe-area-inset-top, 0px);
	--safe-area-bottom: env(safe-area-inset-bottom, 0px);
	--safe-area-left: env(safe-area-inset-left, 0px);
	--safe-area-right: env(safe-area-inset-right, 0px);

	--touch-target-min: 44px;
	--touch-target-comfortable: 48px;

	/* ─────────────────────────────────────────────────────────────────────────────
	   ACCENT - Vibrant Purple (premium, innovative, powerful)
	   ───────────────────────────────────────────────────────────────────────────── */
	--color-accent: #8B5CF6;
	--color-accent-subtle: rgba(139, 92, 246, 0.08);
	--color-accent-hover: rgba(139, 92, 246, 0.12);

	/* Primary palette - Vibrant Purple family */
	--color-primary-950: #2e1065;  /* Deepest */
	--color-primary-900: #4c1d95;  /* Very dark */
	--color-primary-800: #5b21b6;
	--color-primary-700: #6d28d9;
	--color-primary-600: #7c3aed;  /* Hover state */
	--color-primary-500: #8B5CF6;  /* Main - Vibrant Purple */
	--color-primary-400: #a78bfa;
	--color-primary-300: #c4b5fd;
	--color-primary-200: #ddd6fe;
	--color-primary-100: rgba(139, 92, 246, 0.12);
	--color-primary-50: rgba(139, 92, 246, 0.06);

	/* ─────────────────────────────────────────────────────────────────────────────
	   SURFACES - Premium Corporate Silver
	   ───────────────────────────────────────────────────────────────────────────── */
	--color-field-void: #f8f9fb;      /* Slight cool silver tint */
	--color-field-depth: #f1f3f6;     /* Subtle silver depth */
	--color-field-surface: #ffffff;   /* Clean white for cards */
	--color-field-elevated: #ffffff;  /* Pure white elevated */

	/* ─────────────────────────────────────────────────────────────────────────────
	   TEXT - Corporate silver-gray hierarchy
	   ───────────────────────────────────────────────────────────────────────────── */
	--color-text-source: #1a1d23;     /* Near-black with cool undertone */
	--color-text-manifest: #5c6370;   /* Corporate gray */
	--color-text-flow: #2d3139;       /* Dark gray for body */
	--color-text-whisper: #9ca3af;    /* Light silver */
	--color-text-hint: #d1d5db;       /* Subtle hint */

	/* ─────────────────────────────────────────────────────────────────────────────
	   BORDERS - Silver structural lines
	   ───────────────────────────────────────────────────────────────────────────── */
	--color-veil-thin: rgba(100, 116, 139, 0.08);
	--color-veil-present: rgba(100, 116, 139, 0.12);
	--color-veil-clear: rgba(100, 116, 139, 0.18);

	/* ─────────────────────────────────────────────────────────────────────────────
	   SHADOWS - Refined corporate depth
	   ───────────────────────────────────────────────────────────────────────────── */
	--shadow-xs: 0 1px 2px rgba(100, 116, 139, 0.06);
	--shadow-sm: 0 1px 3px rgba(100, 116, 139, 0.08);
	--shadow-md: 0 4px 12px rgba(100, 116, 139, 0.10);
	--shadow-lg: 0 8px 24px rgba(100, 116, 139, 0.14);
	--shadow-xl: 0 16px 48px rgba(100, 116, 139, 0.18);

	/* Panel - subtle silver definition */
	--shadow-panel: 0 0 0 1px rgba(100, 116, 139, 0.08);
	--shadow-panel-hover: 0 0 0 1px rgba(100, 116, 139, 0.15);

	/* Elevated - for modals/dropdowns */
	--shadow-elevated: 0 4px 24px rgba(100, 116, 139, 0.14), 0 0 0 1px rgba(100, 116, 139, 0.08);

	/* ─────────────────────────────────────────────────────────────────────────────
	   TIMING
	   ───────────────────────────────────────────────────────────────────────────── */
	--duration-instant: 50ms;
	--duration-fast: 100ms;
	--duration-normal: 150ms;
	--duration-slow: 250ms;

	--ease-out: cubic-bezier(0.33, 1, 0.68, 1);
	--ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);

	/* ─────────────────────────────────────────────────────────────────────────────
	   GRADIENTS - Vibrant Purple (premium energy)
	   ───────────────────────────────────────────────────────────────────────────── */
	--gradient-primary: linear-gradient(135deg, #7c3aed 0%, #8B5CF6 100%);
	--gradient-subtle: linear-gradient(180deg, rgba(139, 92, 246, 0.03) 0%, transparent 100%);

	/* Semantic colors */
	--color-error-500: #dc2626;
	--color-error-600: #b91c1c;
	--color-error-50: rgba(220, 38, 38, 0.05);
	--color-success-500: #16a34a;
	--color-success-600: #15803d;
	--color-warning-500: #d97706;
	--color-warning-600: #b45309;

	/* Legacy */
	--color-challenger: #dc2626;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   DARK MODE - Premium Dark Silver with Vibrant Purple
   ═══════════════════════════════════════════════════════════════════════════════ */

[data-theme='dark'] {
	--color-accent: #a78bfa;  /* Brighter purple for dark mode */
	--color-accent-subtle: rgba(167, 139, 250, 0.12);
	--color-accent-hover: rgba(167, 139, 250, 0.18);

	--color-primary-950: #1a1625;  /* Deep purple-black */
	--color-primary-900: #2e1065;
	--color-primary-800: #4c1d95;
	--color-primary-700: #6d28d9;
	--color-primary-600: #8B5CF6;
	--color-primary-500: #a78bfa;  /* Brighter for dark mode visibility */
	--color-primary-400: #c4b5fd;
	--color-primary-300: #ddd6fe;
	--color-primary-200: #ede9fe;
	--color-primary-100: rgba(167, 139, 250, 0.15);
	--color-primary-50: rgba(167, 139, 250, 0.08);

	--gradient-primary: linear-gradient(135deg, #8B5CF6 0%, #a78bfa 100%);

	/* Premium dark silver surfaces */
	--color-field-void: #0f1115;      /* Dark with cool silver undertone */
	--color-field-depth: #161a1f;     /* Slightly elevated dark silver */
	--color-field-surface: #1c2127;   /* Card surfaces */
	--color-field-elevated: #252b33;  /* Elevated elements */

	/* Text on dark silver */
	--color-text-source: #f4f5f7;     /* Bright silver-white */
	--color-text-manifest: #9ba1ab;   /* Medium silver */
	--color-text-flow: #e1e4e8;       /* Light silver */
	--color-text-whisper: #5c6370;    /* Dim silver */
	--color-text-hint: #3d424a;       /* Subtle hint */

	/* Silver borders for dark mode */
	--color-veil-thin: rgba(148, 163, 184, 0.08);
	--color-veil-present: rgba(148, 163, 184, 0.12);
	--color-veil-clear: rgba(148, 163, 184, 0.18);

	--shadow-panel: 0 0 0 1px rgba(148, 163, 184, 0.08);
	--shadow-elevated: 0 4px 24px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(148, 163, 184, 0.10);
}

/* ═══════════════════════════════════════════════════════════════════════════════
   BASE STYLES
   ═══════════════════════════════════════════════════════════════════════════════ */

* {
	margin: 0;
	box-sizing: border-box;
}

html {
	font-size: 16px;
	scroll-behavior: smooth;
	background-color: var(--color-field-void);
	height: 100%;
	overflow: hidden;
}

body {
	font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
	font-size: 16px;
	font-weight: 400;
	line-height: 1.6;
	color: var(--color-text-source);
	background-color: var(--color-field-void);
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	height: 100%;
	overflow: hidden;
	letter-spacing: -0.01em;
}

/* Typography Scale - ChatGPT-consistent sizing */
h1 {
	font-size: 1.5rem;    /* 24px */
	font-weight: 600;
	letter-spacing: -0.02em;
	color: var(--color-text-source);
}

h2 {
	font-size: 1.25rem;   /* 20px */
	font-weight: 600;
	letter-spacing: -0.02em;
	color: var(--color-text-source);
}

h3 {
	font-size: 1rem;      /* 16px */
	font-weight: 600;
	letter-spacing: -0.01em;
	color: var(--color-text-source);
}

h4, h5, h6 {
	font-size: 0.9375rem; /* 15px */
	font-weight: 600;
	letter-spacing: -0.01em;
	color: var(--color-text-source);
}

::selection {
	background-color: rgba(0, 0, 0, 0.1);
	color: inherit;
}

[data-theme='dark'] ::selection {
	background-color: rgba(255, 255, 255, 0.2);
}

/* Focus - subtle ring */
*:focus-visible {
	outline: 2px solid var(--color-text-source);
	outline-offset: 2px;
}

textarea:focus,
textarea:focus-visible {
	outline: none !important;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   SCROLLBARS - Nearly invisible
   ═══════════════════════════════════════════════════════════════════════════════ */

::-webkit-scrollbar {
	width: 6px;
	height: 6px;
}

::-webkit-scrollbar-track {
	background: transparent;
}

::-webkit-scrollbar-thumb {
	background: var(--color-veil-thin);
	border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
	background: var(--color-veil-present);
}

/* Hide scrollbar utility */
.scrollbar-hide::-webkit-scrollbar {
	display: none;
}

.scrollbar-hide {
	-ms-overflow-style: none;
	scrollbar-width: none;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   ANIMATIONS
   ═══════════════════════════════════════════════════════════════════════════════ */

@keyframes spin {
	to { transform: rotate(360deg); }
}

@keyframes fadeIn {
	from { opacity: 0; }
	to { opacity: 1; }
}

@keyframes slideUp {
	from { opacity: 0; transform: translateY(4px); }
	to { opacity: 1; transform: translateY(0); }
}

@keyframes slideDown {
	from { opacity: 0; transform: translateY(-4px); }
	to { opacity: 1; transform: translateY(0); }
}

.animate-spin { animation: spin 1s linear infinite; }
.animate-fade-in { animation: fadeIn 0.15s ease-out; }
.animate-slide-up { animation: slideUp 0.15s ease-out; }

/* Typing indicator */
@keyframes typing-pulse {
	0%, 80%, 100% { opacity: 0.3; }
	40% { opacity: 1; }
}

.typing-dot {
	width: 4px;
	height: 4px;
	border-radius: 50%;
	background: var(--color-text-whisper);
	animation: typing-pulse 1.2s ease-in-out infinite;
}

.typing-dot:nth-child(1) { animation-delay: 0s; }
.typing-dot:nth-child(2) { animation-delay: 0.15s; }
.typing-dot:nth-child(3) { animation-delay: 0.3s; }

.typing-dots {
	display: flex;
	gap: 4px;
	align-items: center;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   BUTTONS - Ghost by default, minimal chrome
   ═══════════════════════════════════════════════════════════════════════════════ */

button:not(:disabled):active,
[role='button']:not(:disabled):active {
	transform: scale(0.98);
}

button:disabled,
[role='button']:disabled {
	cursor: not-allowed;
	opacity: 0.4;
}

/* Primary - solid, used sparingly */
.btn-primary {
	background: var(--color-primary-500);
	color: #ffffff;
	border: none;
	border-radius: 6px;
	padding: 8px 16px;
	font-weight: 500;
	font-size: 14px;
	transition: all var(--duration-fast) ease;
}

.btn-primary:hover:not(:disabled) {
	background: var(--color-primary-600);
}

/* Ghost - default for most controls */
.btn-ghost {
	background: transparent;
	border: none;
	color: var(--color-text-manifest);
	border-radius: 6px;
	padding: 6px 10px;
	font-size: 14px;
	transition: all var(--duration-fast) ease;
}

.btn-ghost:hover:not(:disabled) {
	background: var(--color-accent-subtle);
	color: var(--color-text-source);
}

/* Outline - secondary actions */
.btn-outline {
	background: transparent;
	border: 1px solid var(--color-veil-present);
	color: var(--color-text-manifest);
	border-radius: 6px;
	padding: 6px 12px;
	font-size: 14px;
	transition: all var(--duration-fast) ease;
}

.btn-outline:hover:not(:disabled) {
	border-color: var(--color-text-source);
	color: var(--color-text-source);
}

/* ═══════════════════════════════════════════════════════════════════════════════
   CARDS & CONTAINERS - Barely there
   ═══════════════════════════════════════════════════════════════════════════════ */

.card-subtle {
	background: var(--color-field-surface);
	border-radius: 8px;
}

.card-bordered {
	background: var(--color-field-surface);
	border: 1px solid var(--color-veil-thin);
	border-radius: 8px;
}

.card-elevated {
	background: var(--color-field-surface);
	box-shadow: var(--shadow-elevated);
	border-radius: 12px;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   MESSAGE BUBBLES - Clean, minimal
   ═══════════════════════════════════════════════════════════════════════════════ */

.bubble-user {
	background: var(--color-text-source);
	color: var(--color-field-void);
	border-radius: 16px 16px 4px 16px;
}

.bubble-assistant {
	background: transparent;
	color: var(--color-text-source);
	border-radius: 16px;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   MOBILE UTILITIES
   ═══════════════════════════════════════════════════════════════════════════════ */

.pt-safe { padding-top: env(safe-area-inset-top, 0px); }
.pb-safe { padding-bottom: env(safe-area-inset-bottom, 0px); }
.h-dvh { height: 100dvh; }
.min-h-dvh { min-height: 100dvh; }

.touch-target {
	min-width: var(--touch-target-min);
	min-height: var(--touch-target-min);
}

@media (max-width: 767px) {
	input, textarea, select {
		font-size: 16px !important;
	}
}

/* ═══════════════════════════════════════════════════════════════════════════════
   UTILITY CLASSES
   ═══════════════════════════════════════════════════════════════════════════════ */

.text-primary { color: var(--color-text-source); }
.text-secondary { color: var(--color-text-manifest); }
.text-tertiary { color: var(--color-text-whisper); }

.bg-surface { background: var(--color-field-surface); }
.bg-subtle { background: var(--color-field-depth); }

.border-subtle { border-color: var(--color-veil-thin); }
.border-default { border-color: var(--color-veil-present); }

/* Glass effect */
.glass {
	background: rgba(255, 255, 255, 0.8);
	backdrop-filter: blur(12px);
	-webkit-backdrop-filter: blur(12px);
}

[data-theme='dark'] .glass {
	background: rgba(10, 10, 10, 0.8);
}

/* Hover reveal */
.hover-reveal {
	opacity: 0;
	transition: opacity var(--duration-fast) ease;
}

.group:hover .hover-reveal,
*:hover > .hover-reveal {
	opacity: 1;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   LEGACY COMPATIBILITY
   ═══════════════════════════════════════════════════════════════════════════════ */

.sidebar-icon-btn {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 32px;
	height: 32px;
	border-radius: 6px;
	background: transparent;
	border: none;
	cursor: pointer;
	color: var(--color-text-whisper);
	transition: all var(--duration-fast) ease;
}

.sidebar-icon-btn:hover {
	background: var(--color-accent-subtle);
	color: var(--color-text-source);
}

.mobile-send-btn {
	width: 40px;
	height: 40px;
	border-radius: 8px;
	display: flex;
	align-items: center;
	justify-content: center;
	background: var(--color-text-source);
	color: var(--color-field-void);
	border: none;
	transition: opacity var(--duration-fast) ease;
}

.mobile-send-btn:hover:not(:disabled) {
	opacity: 0.85;
}

.mobile-send-btn:disabled {
	opacity: 0.3;
}

/* Input premium - simplified */
.input-premium {
	background: var(--color-field-surface);
	border: 1px solid var(--color-veil-thin);
	border-radius: 8px;
	transition: border-color var(--duration-fast) ease;
}

.input-premium:focus-within {
	border-color: var(--color-text-source);
}

/* Radius scale */
.radius-sm { border-radius: 4px; }
.radius-md { border-radius: 6px; }
.radius-lg { border-radius: 8px; }
.radius-xl { border-radius: 12px; }
.radius-full { border-radius: 9999px; }
